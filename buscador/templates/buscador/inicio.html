{% load static %}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kimoon</title>
    <meta name="description" content="¿Eres adolescente? Encuentra oportunidades perfectas para ti. Olimpiadas, concursos, cursos, talleres y más!">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <main>
        <section id="titulo">
            <h1><strong>Actividades</strong></h1>
        </section>

        <section id="filtros">
            <input type="text" id="busqueda" placeholder="Buscar actividad...">

            <form method="get">
                <select name="modalidad">
                    <option value="" disabled selected hidden>Modalidad</option>
                    <option value="">-</option>
                    <option value="P" {% if request.GET.modalidad == "P" %}selected{% endif %}>Presencial</option>
                    <option value="O" {% if request.GET.modalidad == "O" %}selected{% endif %}>Online</option>
                    <option value="H" {% if request.GET.modalidad == "H" %}selected{% endif %}>Híbrido</option>
                </select>

                <select name="costo">
                    <option value="" disabled selected hidden>Precio</option>
                    <option value="">-</option>
                    <option value="gratis" {% if request.GET.costo == "gratis" %}selected{% endif %}>Gratis</option>
                    <option value="pagado" {% if request.GET.costo == "pagado" %}selected{% endif %}>Pagado</option>
                </select>

                <p><strong>Género:</strong></p>

                <label>
                    <input type="checkbox" name="genero" value="F"
                    {% if "F" in generos_seleccionados %}checked{% endif %}>
                    Femenino
                </label>

                <label>
                    <input type="checkbox" name="genero" value="M"
                    {% if "M" in generos_seleccionados %}checked{% endif %}>
                    Masculino
                </label>

                <label>
                    <input type="checkbox" name="genero" value="T"
                    {% if "T" in generos_seleccionados %}checked{% endif %}>
                    Mixto
                </label>

                <button type="submit">Filtrar</button>
            </form>

            <a href="{% url 'buscador:inicio_buscador' %}">
                    <button type="button">Borrar Filtros</button>
                </a>
        </section>

        <section id="actividades">
            {% if lista_actividades %}
                <ul>
                    {% for actividad in lista_actividades %}
                        <li>
                            <a href="{% url 'buscador:detalles' actividad.pk %}"> {{ actividad.nombre }}</a>
                            <h4>{{ actividad.descripcion_breve }}</h4>
                        </li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>No hay actividades disponibles</p>
            {% endif %}
        </section>
    </main>

    <script src="{% static 'buscador/js/inicio.js' %}"></script>
</body>
</html>

