{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kimoon</title>
    <meta name="description" content="{% actividad.descripcion_breve}">
        <link rel="icon" type="image/png" href="{% static 'buscador/img/kimoon_icono.png' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="{% static 'buscador/css/detalles.css' %}" rel="stylesheet">
</head>

<body class="cuerpo">
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
        <div class="container">
            <a class="navbar-brand fw-bold" href="{% url 'buscador:inicio_buscador' %}">
                <img src="{% static 'buscador/img/kimoon_logo.png' %}" 
                    alt="Kimoon" 
                    height="50"
                    class="me-1">
            </a>
        </div>
    </nav>
    <main>
        <div class="container contenedor">
            <section id="titulo" class="text-center my-4">
                <div class="p-4 rounded text-center panel-titulo">
                    <h1 class="display-4 fw-bold">{{ actividad.nombre }}</h1>
                </div>
            </section>
            <section id="informacion">
                <div class="row g-3">
                    <div class="col-md-6">
                        <div class="card h-100">
                            <div class="card-body">
                                <p class="card-text fs-5 px-4 py-2">{{ actividad.descripcion_larga }}</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card h-100">
                            <div class="card-body">
                                {% if actividad.tipo %}
                                    <h5 class="card-title px-4 pt-2">Tipo de actividad: </h5>
                                    <p class="card-text px-4">{{ actividad.get_tipo_display }}</p>

                                {% endif %}
                                {% if actividad.genero %}
                                    <h5 class="card-title px-4 pt-2">Género:</h5>
                                    <p class="card-text px-4">{{actividad.get_genero_display}}</p>
                                {% endif %}

                                {% if actividad.grado_min or actividad.grado_max %}
                                <h5 class="card-title px-4 pt-2">Grado:</h5>
                                    {% if actividad.grado_min and actividad.grado_max %}
                                        {% if actividad.grado_min == actividad.grado_max %}
                                            <p class="card-text px-4">{{ actividad.get_grado_min_display }}</p>
                                        {% else %}
                                            <p class="card-text px-4">Desde {{ actividad.get_grado_min_display }} hasta {{ actividad.get_grado_max_display }}</h3>
                                        {% endif %}
                                    {% elif actividad.grado_min %}
                                        <p class="card-text px-4">Desde {{ actividad.get_grado_min_display }}</p>
                                    {% elif actividad.grado_max %}
                                        <p class="card-text px-4">Hasta {{ actividad.get_grado_max_display }}</p>
                                    {% endif %}
                                {% else %}
                                    {% if actividad.edad_min or actividad.edad_max %}
                                        {% if actividad.edad_min and actividad.edad_max %}
                                            {% if actividad.edad_min == actividad.edad_max %}
                                                <h5 class="card-title px-4 pt-2">Edad:</h5>
                                                <p class="card-text px-4">{{ actividad.edad_min }} años</p>
                                            {% else %}
                                                <h5 class="card-title px-4 pt-2">Edades:</h5>
                                                <p class="card-text px-4">Desde {{ actividad.edad_min }} hasta {{ actividad.edad_max }} años</p>
                                            {% endif %}
                                        {% elif actividad.edad_min %}
                                            <h5 class="card-title px-4 pt-2">Edad:</h5>
                                            <p class="card-text px-4">Desde {{ actividad.edad_min }} años</p>
                                        {% elif actividad.edad_max %}
                                            <h5 class="card-title px-4 pt-2">Edad:</h5>
                                            <p class="card-text px-4">Hasta {{ actividad.edad_max }} años</p>
                                        {% endif %}
                                    {% else %}
                                        <h5 class="card-title px-4 pt-2">Edad/Grado:</h5>
                                        <p class="card-text px-4">Por confirmar</p>
                                    {% endif %}
                                {% endif %}

                                {% if actividad.modalidad %}
                                    <h5 class="card-title px-4 pt-2">Modalidad:</h5>
                                    <p class="card-text px-4">{{ actividad.get_modalidad_display }}</p>
                                {% endif %}

                                {% if actividad.modalidad != "O" and actividad.lugar %}
                                    <h5 class="card-title px-4 pt-2">Lugar:</h5>
                                    <p class="card-text px-4">{{ actividad.lugar }}</p>
                                {% endif %}

                                {% if actividad.costo %}
                                    <h5 class="card-title px-4 pt-2">Costo:</h5>
                                    {% if actividad.costo == 0 %}
                                        <p class="card-text px-4">Gratis</p>
                                    {% else %}
                                        <p class="card-text px-4">${{ actividad.costo }}</p>
                                    {% endif %}
                                {% endif %}

                                {% if actividad.duracion %}
                                    <h5 class="card-title px-4 pt-2">Duración de la actividad:</h5>
                                    <p class="card-text px-4">{{ actividad.duracion }}</p>
                                {% endif %}

                                {% if actividad.inicio_postulacion and actividad.cierre_postulacion %}
                                    <h5 class="card-title px-4 pt-2">Inscripciones:</h5>
                                    {% if actividad.inicio_postulacion == actividad.cierre_postulacion %}
                                        <p class="card-text px-4">{{ actividad.inicio_postulacion }}</p>
                                    {% else %}
                                        <p class="card-text px-4">Desde {{ actividad.inicio_postulacion }} hasta {{ actividad.cierre_postulacion }}</p>
                                    {% endif %}
                                {% elif actividad.inicio_postulacion %}
                                    <h5 class="card-title px-4 pt-2">Inscripciones:</h5>
                                    <p class="card-text px-4">Desde {{ actividad.inicio_postulacion }}</p>
                                {% elif actividad.cierre_postulacion %}
                                    <h5 class="card-title px-4 pt-2">Inscripciones:</h5>
                                    <p class="card-text px-4">Hasta {{ actividad.cierre_postulacion }}</p>
                                {% else %}
                                    <h5 class="card-title px-4 pt-2">Inscripciones:</h5>
                                    <p class="card-text px-4">Por confirmar</p>
                                {% endif %}

                                {% if actividad.inicio_actividad and actividad.termino_actividad %}
                                    {% if actividad.inicio_actividad == actividad.termino_actividad %}
                                    <h5 class="card-title px-4 pt-2">Día de la actividad:</h5>
                                        <p class="card-text px-4">{{ actividad.inicio_actividad }}</p>
                                    {% else %}
                                        <h5 class="card-title px-4 pt-2">Fechas de la actividad:</h5>
                                        <p class="card-text px-4">Desde {{ actividad.inicio_actividad }} hasta {{ actividad.termino_actividad }}</p>
                                    {% endif %}
                                {% elif actividad.inicio_actividad %}
                                    <h5 class="card-title px-4 pt-2">Actividad:</h5>
                                    <p class="card-text px-4">Desde: {{ actividad.inicio_actividad }}</p>
                                {% elif actividad.termino_actividad %}
                                    <h5 class="card-title px-4 pt-2">Actividad:</h5>
                                    <p class="card-tex px-4">Hasta: {{ actividad.termino_actividad }}</p>
                                {% else %}
                                    <h5 class="card-title px-4 pt-2">Fechas de la actividad: </h5>
                                    <p class="card-text px-4">Por confirmar</p>
                                {% endif %}

                                {% if actividad.organizador %}
                                    <h5 class="card-title px-4 pt-2">Organizador: </h5>
                                    <p class="card-text px-4 pb-2">{{ actividad.organizador }}</p>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>

                {% if actividad.link %}
                    <div class="row my-4">
                        <div class="col-md-12">
                            <div class="card position-relative panel-info">
                                <div class="card-body">
                                    <p class="card-text fs-5 mb-0 text-center panel-info-texto">
                                        Más información
                                    </p>
                                    <a href="{{ actividad.link }}"
                                    target="_blank"
                                    class="stretched-link"></a>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endif %}
            </section>  
        </div>      
    </main>
</body>